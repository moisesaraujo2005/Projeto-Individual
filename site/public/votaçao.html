<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="CSS/votaçaocss.css">
    <link rel="icon" href="./assets/icon/favicon.ico">
    <link rel="shortcut icon" href="assests2/assets/android-chrome-512x512.png" type="image/x-icon">
    <script src="./funcoes.js"></script>
    <script src="https://kit.fontawesome.com/258c1b4476.js" crossorigin="anonymous"></script>
    <title>Modalidades| Home</title>
</head>

<body onload="validarSessao()">

    <!--header inicio-->
    <div class="header">
        <div class="container">
            <h1><a href="index.html">Skate</a></h1>
            <ul class="navbar">
                <li><a href="user.html">Voltar a página inicial</a></li>
                <li><a href="dash.html">Gráficos</a></li>
                <li><a onclick="limparSessao()" href="login.html">Sair</a></li>
            </ul>
        </div>
    </div>

    <!--header fim-->

    <div class="side-header">
        <div class="container">

            <div class="usuario">
                <div class="user">
                    <h3>Bem vindo, <b id="b_usuario"></b></h3>
                </div>
                <div class='saudacao'>
                    Bem vindo a votação de modalidade <br>
                        Selecione o seu favorito.
                </div>
            </div>
        </div>
    </div>

    <div class="container1">
        
            <div class="box">
                <img onclick="street()"  src="Assets/Imagens/kelvin-hoefler-tnz1papwfynk.webp" alt="STREET" >
            </div>
            
            <div class="box">
                <img onclick= "vert()" src="Assets/Imagens/gui-khury.webp" alt="VERT" >
            </div>
            
            <div class="box">
                <img onclick='bowl()'  src="Assets/Imagens/15484614505c4ba58a933a7_1548461450_3x2_md.jpg" alt="BOWL">
            </div>
          
            <div class="box">
                <img onclick='freestyle()' src="Assets/Imagens/250px-Tailwheelie.jpg" alt="FREESTYLE" >
            </div>
            
           
            <div class="box">
                <img onclick='downhill()'  src="Assets/Imagens/724942a596bec68e5f47c33d20d85b88-scaled.jpg" alt="CONTRABAIXO" >
            </div>
    </div>

         
</body>

</html>

<script>
    function street() {

var streetVar = 'street'
 
fetch("/modalidade/street", {
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify({
            streetServer: streetVar
        })
    }).then(function (resposta) {

        console.log("resposta: ", resposta);

        if (resposta.ok) {
            window.alert("Sua modalidade foi cadastrada com sucesso!");
            window.location.href = "dash.html" 
          
        } else {
            throw ("Houve um erro ao tentar realizar o cadastro!");
        }
    }).catch(function (resposta) {
        console.log(`#ERRO: ${resposta}`);
 
    });

    
    

}

function vert() {

var vertVar = 'vert'
    
fetch("/modalidade/vert", {
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify({
            vertServer: vertVar
        })
    }).then(function (resposta) {

        console.log("resposta: ", resposta);

        if (resposta.ok) {
            window.alert("Sua modalidade foi cadastrada com sucesso!");
            window.location.href = "dash.html" 
          
        } else {
            throw ("Houve um erro ao tentar realizar o cadastro!");
        }
    }).catch(function (resposta) {
        console.log(`#ERRO: ${resposta}`);
 
    });

}

function bowl() {
var bowlVar = 'bowl'
    
fetch("/modalidade/bowl", {
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify({
            bowlServer:bowlVar
        })
    }).then(function (resposta) {

        console.log("resposta: ", resposta);

        if (resposta.ok) {
            window.alert("Sua modalidade foi cadastrada com sucesso!!");
            window.location.href = "dash.html" 
          
        } else {
            throw ("Houve um erro ao tentar realizar o cadastro!");
        }
    }).catch(function (resposta) {
        console.log(`#ERRO: ${resposta}`);
 
    });
}


function freestyle() {



var freestyleVar = 'freestyle'



    
fetch("/modalidade/freestyle", {
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify({
            freestyleServer:freestyleVar
        })
    }).then(function (resposta) {

        console.log("resposta: ", resposta);

        if (resposta.ok) {
            window.alert("Sua modalidade foi cadastrada com sucesso!!");
            window.location.href = "dash.html" 
          
        } else {
            throw ("Houve um erro ao tentar realizar o cadastro!");
        }
    }).catch(function (resposta) {
        console.log(`#ERRO: ${resposta}`);
 
    });

 




}

function downhill() {



var downhillVar = 'downhill'


    
fetch("/modalidade/downhill", {
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify({
            downhillServer:downhillVar
        })
    }).then(function (resposta) {

        console.log("resposta: ", resposta);

        if (resposta.ok) {
            window.alert("Sua modalidade foi cadastrada com sucesso!");
            window.location.href = "dash.html" 
          
        } else {
            throw ("Houve um erro ao tentar realizar o cadastro!");
        }
    }).catch(function (resposta) {
        console.log(`#ERRO: ${resposta}`);
 
    });

}

function validarSessao() {
    // aguardar();

    var email = sessionStorage.EMAIL_USUARIO;
    var nome = sessionStorage.NOME_USUARIO;

    var h1LoginUsuario = document.getElementById("h1_login_usuario");

    if (email != null && nome != null) {
        // window.alert(`Seja bem-vindo, ${nome}!`);
        if (h1LoginUsuario != undefined) {
            h1LoginUsuario.innerHTML = email;
        }
        b_usuario.innerHTML = nome;

        // finalizarAguardar();
    } else {
        window.location = "../login.html";
    }
}

</script>